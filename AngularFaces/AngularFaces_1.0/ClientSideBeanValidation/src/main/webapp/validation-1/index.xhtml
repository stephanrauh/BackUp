<f:view xmlns="http://www.w3c.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:ng="http://xmlns.jcp.org/jsf/passthrough" xmlns:prime="http://primefaces.org/ui"
>
  <h:head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Welcome to AngularFaces@OpenShift</title>
    <link rel='stylesheet' href='../darkness.css' type='text/css' media='all' />
  </h:head>
  <h:body>
    <div id="mandelbrot" style="width: 400px; height: 400px; float: left; margin: 0 30px 0 0;">
      <img src="../MandelbrotEarth1.png" width="100%" height="100%" />
    </div>
    <h3>Client Side Bean Validation</h3>
      An extension to PrimeFaces 5.1
      <h:form ng:name="myform">
      <h:messages></h:messages>
        <prime:panelGrid columns="3">
          <prime:outputLabel value="Brand:" for="@next" />
          <prime:inputText value="#{car.brand}" /><prime:message for="@previous" />
          <prime:outputLabel value="Type:" for="@next" />
          <prime:inputText value="#{car.type}" /><prime:message for="@previous" />
          <prime:outputLabel value="Year:" for="@next" />
          <prime:inputText value="#{car.year}" />
          <prime:message for="@previous" />
          <!-- 
          <prime:outputLabel value="Date of delivery:" for="@next" />
          <prime:inputText value="#{car.deliveryDate}" /><prime:message for="@previous" />
           -->
        </prime:panelGrid>
        <prime:commandButton value="Update backend" action="#{carController.save}" validateClient="false"/>
        <prime:ajaxExceptionHandler type="java.lang.Throwable"
            update="exceptionDialog" onexception="PF('exceptionDialog').show();" />
          <prime:dialog id="exceptionDialog" header="Exception: #{pfExceptionHandler.type} occured!" widgetVar="exceptionDialog" height="500px">
            Message: #{pfExceptionHandler.message} <br/>
            StackTrace: <h:outputText value="#{pfExceptionHandler.formattedStackTrace}"  escape="false" />
            <prime:button onclick="document.location.href = document.location.href;" value="Reload!" />
          </prime:dialog>
        
    </h:form>
    <h:messages />
  </h:body>
</f:view>
